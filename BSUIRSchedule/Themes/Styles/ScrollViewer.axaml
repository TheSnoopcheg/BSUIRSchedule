<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Design.PreviewWith>
    <Border Padding="20">
		<ScrollViewer Width="100" Height="100"
					  VerticalScrollBarVisibility="Visible"
					  HorizontalScrollBarVisibility="Visible">
			<StackPanel Spacing="20" Width="210">
				<TextBlock>Item 1</TextBlock>
				<TextBlock>Item 2</TextBlock>
				<TextBlock>Item 3</TextBlock>
				<TextBlock>Item 4</TextBlock>
				<TextBlock>Item 5</TextBlock>
				<TextBlock>Item 6</TextBlock>
				<TextBlock>Item 7</TextBlock>
				<TextBlock>Item 8</TextBlock>
				<TextBlock>Item 9</TextBlock>
			</StackPanel>
		</ScrollViewer>
    </Border>
  </Design.PreviewWith>

	<Styles.Resources>
		<ControlTheme x:Key="{x:Type ScrollViewer}" TargetType="ScrollViewer">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="Template">
				<ControlTemplate>
					<Grid ColumnDefinitions="*,Auto" RowDefinitions="*,Auto">
						<ScrollContentPresenter Name="PART_ContentPresenter"
												Grid.Row="0"
												Grid.Column="0"
												Background="{TemplateBinding Background}"
												HorizontalSnapPointsType="{TemplateBinding HorizontalSnapPointsType}"
												VerticalSnapPointsType="{TemplateBinding VerticalSnapPointsType}"
												HorizontalSnapPointsAlignment="{TemplateBinding HorizontalSnapPointsAlignment}"
												VerticalSnapPointsAlignment="{TemplateBinding VerticalSnapPointsAlignment}"
												Padding="{TemplateBinding Padding}"
												ScrollViewer.IsScrollInertiaEnabled="{TemplateBinding IsScrollInertiaEnabled}">
							<ScrollContentPresenter.GestureRecognizers>
								<ScrollGestureRecognizer CanHorizontallyScroll="{Binding CanHorizontallyScroll, ElementName=PART_ContentPresenter}"
														 CanVerticallyScroll="{Binding CanVerticallyScroll, ElementName=PART_ContentPresenter}"
														 IsScrollInertiaEnabled="{Binding (ScrollViewer.IsScrollInertiaEnabled), ElementName=PART_ContentPresenter}"/>
							</ScrollContentPresenter.GestureRecognizers>
						</ScrollContentPresenter>
						<ScrollBar Name="PART_HorizontalScrollBar"
								   Orientation="Horizontal"
								   Grid.Row="1"/>
						<ScrollBar Name="PART_VerticalScrollBar"
								   Orientation="Vertical"
								   Grid.Column="1"/>
						<Panel x:Name="PART_ScrollBarsSeparator"
							   Grid.Row="1"
							   Grid.Column="1"
							   Background="{DynamicResource ScrollViewerScrollBarsSeparatorBackground}"
							   Opacity="0">
							<Panel.Transitions>
								<Transitions>
									<DoubleTransition Property="Opacity" Duration="0:0:0.1" />
								</Transitions>
							</Panel.Transitions>
						</Panel>
					</Grid>
				</ControlTemplate>
			</Setter>
			<Style Selector="^[IsExpanded=true] /template/ Panel#PART_ScrollBarsSeparator">
				<Setter Property="Opacity" Value="1" />
			</Style>
			<Style Selector="^[AllowAutoHide=True] /template/ ScrollContentPresenter#PART_ContentPresenter">
				<Setter Property="Grid.ColumnSpan" Value="2" />
				<Setter Property="Grid.RowSpan" Value="2" />
			</Style>
		</ControlTheme>
		
		<ControlTheme x:Key="{x:Type ScrollBar}" TargetType="{x:Type ScrollBar}">
			<Setter Property="MinWidth" Value="{DynamicResource ScrollBarSize}" />
			<Setter Property="MinHeight" Value="{DynamicResource ScrollBarSize}" />
			<Setter Property="Background" Value="{DynamicResource ScrollBarBackground}" />
			<Setter Property="Foreground" Value="{DynamicResource ScrollBarForeground}" />
			<Setter Property="BorderBrush" Value="{DynamicResource ScrollBarBorderBrush}" />
			<Setter Property="HideDelay" Value="0:0:0.1"/>
			<Setter Property="ShowDelay" Value="0:0:0.1"/>
			<Setter Property="Opacity" Value="0"/>
			<Style Selector="^:vertical">
				<Setter Property="Template">
					<ControlTemplate>
						<Grid x:Name="Root"
							  Margin="2,2"
							  HorizontalAlignment="Right">
							<Border x:Name="VerticalRoot"
									Background="{TemplateBinding Background}"
									BorderBrush="{TemplateBinding BorderBrush}">
								<Grid RowDefinitions="Auto,*,Auto">
									<Border x:Name="TrackRect"
											Background="{DynamicResource ScrollBar.Static}"
											Width="3"
											CornerRadius="2"
											Grid.RowSpan="3">
										<Border.Transitions>
											<Transitions>
												<DoubleTransition Property="Opacity" Duration="0:0:0.35" />
											</Transitions>
										</Border.Transitions>
									</Border>

									<RepeatButton Name="PART_LineUpButton"
												  HorizontalAlignment="Center"
												  Grid.Row="0"
												  Focusable="False"
												  IsVisible="False">
									</RepeatButton>
									
									<Track Grid.Row="1"
										   Minimum="{TemplateBinding Minimum}"
										   Maximum="{TemplateBinding Maximum}"
										   Value="{TemplateBinding Value, Mode=TwoWay}"
										   DeferThumbDrag="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}"
										   ViewportSize="{TemplateBinding ViewportSize}"
										   Orientation="{TemplateBinding Orientation}"
										   IsDirectionReversed="True">
										<Track.DecreaseButton>
											<RepeatButton Name="PART_PageUpButton"
														  Classes="largeIncrease"
														  Opacity="0"
														  Focusable="False" />
										</Track.DecreaseButton>
										<Track.IncreaseButton>
											<RepeatButton Name="PART_PageDownButton"
														  Classes="largeIncrease"
														  Opacity="0"
														  Focusable="False" />
										</Track.IncreaseButton>
										<Thumb Theme="{StaticResource CustomThumb}"
											   Width="3"
											   MinHeight="{DynamicResource ScrollBarSize}"
											   RenderTransformOrigin="100%,50%"/>
									</Track>

									<RepeatButton Name="PART_LineDownButton"
												  HorizontalAlignment="Center"
												  Grid.Row="2"
												  Focusable="False"
												  IsVisible="False">
									</RepeatButton>
								</Grid>
							</Border>
						</Grid>
					</ControlTemplate>
				</Setter>
			</Style>

			<Style Selector="^:horizontal">
				<Setter Property="Template">
					<ControlTemplate>
						<Grid x:Name="Root"
							  Margin="2,2"
							  VerticalAlignment="Bottom">
							<Border x:Name="HorizontalRoot"
									Background="{TemplateBinding Background}"
									BorderBrush="{TemplateBinding BorderBrush}">
								<Grid ColumnDefinitions="Auto,*,Auto">
									<Border x:Name="TrackRect"
											Background="{DynamicResource ScrollBar.Static}"
											Height="3"
											CornerRadius="2"
											Grid.ColumnSpan="3">
										<Border.Transitions>
											<Transitions>
												<DoubleTransition Property="Opacity" Duration="0:0:0.35" />
											</Transitions>
										</Border.Transitions>
									</Border>

									<RepeatButton Name="PART_LineUpButton"
												  VerticalAlignment="Center"
												  Grid.Column="0"
												  Focusable="False"
												  IsVisible="False">
									</RepeatButton>

									<Track Grid.Column="1"
										   Minimum="{TemplateBinding Minimum}"
										   Maximum="{TemplateBinding Maximum}"
										   Value="{TemplateBinding Value, Mode=TwoWay}"
										   DeferThumbDrag="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}"
										   ViewportSize="{TemplateBinding ViewportSize}"
										   Orientation="{TemplateBinding Orientation}">
										<Track.DecreaseButton>
											<RepeatButton Name="PART_PageUpButton"
														  Classes="largeIncrease"
														  Opacity="0"
														  Focusable="False" />
										</Track.DecreaseButton>
										<Track.IncreaseButton>
											<RepeatButton Name="PART_PageDownButton"
														  Classes="largeIncrease"
														  Opacity="0"
														  Focusable="False" />
										</Track.IncreaseButton>
										<Thumb Theme="{StaticResource CustomThumb}"
											   Height="3"
											   MinWidth="{DynamicResource ScrollBarSize}"
											   RenderTransformOrigin="50%,100%"/>
									</Track>

									<RepeatButton Name="PART_LineDownButton"
												  VerticalAlignment="Center"
												  Grid.Column="2"
												  Focusable="False"
												  IsVisible="False">
									</RepeatButton>
								</Grid>
							</Border>
						</Grid>
					</ControlTemplate>
				</Setter>
			</Style>
			
			<Style Selector="^[IsExpanded=true]">
				<Setter Property="Opacity" Value="1"/>
			</Style>
			
		</ControlTheme>

		<ControlTheme x:Key="CustomThumb" TargetType="Thumb">
			<Setter Property="Background" Value="{DynamicResource ScrollBar.Static.Background}"/>
			<Setter Property="CornerRadius" Value="2"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate>
						<Border Background="{TemplateBinding Background}"
								CornerRadius="{TemplateBinding CornerRadius}"/>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Setter Property="Transitions">
				<Transitions>
					<DoubleTransition Property="Opacity" Duration="0:0:0.35"/>
				</Transitions>
			</Setter>

			<Style Selector="^:pointerover /template/ Border">
				<Setter Property="Background" Value="{DynamicResource ScrollBar.MouseOver.Background}" />
			</Style>
			<Style Selector="^:pressed  /template/ Border">
				<Setter Property="Background" Value="{DynamicResource ScrollBar.Pressed.Background}" />
			</Style>
			<Style Selector="^:disabled  /template/ Border">
				<Setter Property="Background" Value="{DynamicResource ScrollBarThumbFillDisabled}" />
			</Style>
		</ControlTheme>
	</Styles.Resources>
</Styles>
